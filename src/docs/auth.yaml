paths:
  /api/auth/signup:
    post:
      summary: 회원가입
      tags: [Auth]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - email
                - password
                - nickname
                - birthdate
                - phoneNumber
                - gender
                - zipCode
                - address1
              properties:
                username:
                  type: string
                  description: 사용자 ID
                  example: "wetube_master"
                email:
                  type: string
                  format: email
                  example: "master@wetube.com"
                password:
                  type: string
                  format: password
                  example: "p4ssw0rd!"
                nickname:
                  type: string
                  example: "동영상장인"
                birthdate:
                  type: string
                  example: "1995-12-25"
                phoneNumber:
                  type: string
                  example: "010-1234-5678"
                gender:
                  type: string
                  enum: [ MALE, FEMALE ]
                  example: "MALE"
                zipCode:
                  type: string
                  example: "12345"
                address1:
                  type: string
                  example: "서울시 강남구 테헤란로"
                address2:
                  type: string
                  example: "101동 202호"
                profileImage:
                  type: string
                  description: "프로필 이미지 경로 (업로드 후 반환된 URL)"
                  example: "/uploads/profiles/default.png"
      responses:
        201:
          description: 회원가입 성공
        400:
          description: 이미 존재하는 이메일

  /api/auth/login:
    post:
      summary: 로그인
      tags: [Auth]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                  description: 사용자 ID
                  example: "wetube_master"
                password:
                  type: string
                  example: "p4ssw0rd!"
      responses:
        200:
          description: 로그인 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "로그인 성공"
                  token:
                    type: string
                    description: JWT 액세스 토큰
                  user: # ✨ updateProfile 응답과 동일한 구조로 확장
                    type: object
                    properties:
                      id:
                        type: integer
                      username:
                        type: string
                      email:
                        type: string
                      nickname:
                        type: string
                      role:
                        type: string
                        example: "USER"
                      gender:
                        type: string
                        enum: [ MALE, FEMALE ]
                      birthDate:
                        type: string
                      phoneNumber:
                        type: string
                      zipCode:
                        type: string
                      address1:
                        type: string
                      address2:
                        type: string
                      profileImage:
                        type: string

  /api/auth/check-username:
    post:
      summary: 아이디 중복 체크
      tags: [ Auth ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
              properties:
                username:
                  type: string
                  example: "wetube_master"
      responses:
        200:
          description: 중복 체크 결과 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  isAvailable:
                    type: boolean
                    description: true면 사용 가능, false면 중복됨
                    example: true
                  message:
                    type: string
                    example: "사용 가능한 아이디입니다."

  /api/auth/check-nickname:
    post:
      summary: 닉네임 중복 체크
      tags: [ Auth ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - nickname
              properties:
                nickname:
                  type: string
                  example: "동영상장인"
      responses:
        200:
          description: 중복 체크 결과 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  isAvailable:
                    type: boolean
                    description: true면 사용 가능, false면 중복됨
                    example: true
                  message:
                    type: string
                    example: "사용 가능한 닉네임입니다."

  /api/auth/profile:
    patch:
      summary: 프로필 정보 수정
      description: "로그인한 유저의 정보를 수정합니다. (프로필 사진 포함)"
      tags: [ Auth ]
      security:
        - bearerAuth: [ ]
        - apiKeyAuth: [ ]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                profileImage:
                  type: string
                  format: binary
                  description: "이미지 파일 (jpg, png)"
                nickname:
                  type: string
                phoneNumber:
                  type: string
                zipCode:
                  type: string
                address1:
                  type: string
                address2:
                  type: string
                birthDate:
                  type: string
                  format: date
                  description: "YYYY-MM-DD 형식"
                  example: "1999-01-01"
                gender:
                  type: string
                  enum: [ MALE, FEMALE ]
                  description: "성별 (MALE 또는 FEMALE)"
      responses:
        200:
          description: 수정 성공 (수정된 최신 유저 정보 반환)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "프로필이 수정되었습니다."
                  user:
                    type: object
                    description: "업데이트된 유저 정보 전체 (비밀번호 제외)"
                    properties:
                      id:
                        type: integer
                      username:
                        type: string
                      email:
                        type: string
                      nickname:
                        type: string
                      role:
                        type: string
                        example: "USER"
                      gender:
                        type: string
                        enum: [ MALE, FEMALE ]
                      birthDate:
                        type: string
                      phoneNumber:
                        type: string
                      zipCode:
                        type: string
                      address1:
                        type: string
                      address2:
                        type: string
                      profileImage:
                        type: string
                        description: "Firebase Storage URL"
        401:
          description: 로그인 필요